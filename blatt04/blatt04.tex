\documentclass[a4paper,11pt]{article}

\newcommand{\authorinfo}{Carolin Konietzny, Paul Bienkowski, Julian Tobergte, Oliver Sengpiel}
\newcommand{\titleinfo}{GSS Abgabe 04}

% PREAMBLE ===============================================================

\usepackage[german,ngerman]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[top=1.3in, bottom=1in, left=1.0in, right=0.6in]{geometry}
\usepackage{lmodern}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{enumerate}
\usepackage{pgfplots}
\usepackage{breqn}
\usepackage{tikz}
\usepackage{fancyhdr}
\usepackage{multicol}
\usepackage{xhfill}
\usepackage{blockgraph} % IMPORTANT
\usepackage{listings}

\lstset{
    basicstyle=\footnotesize,
}

\usetikzlibrary{calc}
\usetikzlibrary{patterns}
\usetikzlibrary{positioning}
\usetikzlibrary{shapes}
\usetikzlibrary{arrows}
\tikzset{main node/.style={ellipse,fill=blue!20,draw,minimum size=1cm,inner sep=0pt},
            }

\author{\authorinfo}
\title{\titleinfo}
\date{\today}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\authorinfo}
\fancyhead[R]{\titleinfo}
\fancyfoot[C]{\thepage}

\newcommand{\ditto}{$\vdots$}
\newcommand{\Frac}[2]{\frac{#1}{#2}}

\begin{document}
\maketitle


\begin{enumerate}
\item[\textbf{1.1}]

\begin{itemize}
    \item[a)] Ausf√ºhrungsreihenfolge:
    \begin{figure}[h]
        \scalebox{0.5}{\input{blockdiagram1.tex}}
    \end{figure}
    \item[b)]
\end{itemize}

\item[\textbf{2}]

\begin{itemize}
    \item[a)]

    \item[b)]

    \item[c)] 
\end{itemize}

\item[\textbf{3}]

\begin{itemize}
    \item[a)]

    Zeitskala: t/5

    \begin{blockgraph}{34}{5}{0.4} % 170 / 5 = 34 cols
    \bglabelxx{0}
    \bglabelxx{5}
    \bglabelxx{10}
    \bglabelxx{15}
    \bglabelxx{20}
    \bglabelxx{25}
    \bglabelxx{30}
    \bglabelxx{34}

    \bglabely{4}{Periodendauer Z}
    \bglabely{3}{Periodendauer B}
    \bglabely{2}{Periodendauer M}
    \bglabely{1}{Berechnung}
    \bglabely{0}{$Kontextswitch \star$}

    \bgblock[1]{0}{2}{$B_1$}
    \bgblock[1]{2}{6}{$Z_1$}
    \bgblock[1]{6}{8}{$M_1 a$}
    \bgblock[0]{8}{10}{$B_2$}
    \bgblock[1]{10}{12}{$M_1 b$}
    \bgblock[0]{12}{16}{$Z_2$}
    \bgblock[0]{16}{18}{$B_3$}
    \bgblock[1]{18}{20}{$M_1 c$}

    \bgblock[2]{0}{23}{$M$}
    \bgblock[2]{23}{34}{$M$} % 115 / 5 = 23
    \bgblock[3]{0}{12}{$Z$}
    \bgblock[3]{12}{24}{$Z$}
    \bgblock[3]{24}{34}{$Z$} % 60 / 5 = 12
    \bgblock[4]{0}{8}{$B$}
    \bgblock[4]{8}{16}{$B$}
    \bgblock[4]{16}{24}{$B$}
    \bgblock[4]{24}{32}{$B$} % 40 / 5 = 8



\end{blockgraph}

$\star :$ W"ahrend der Bearbeitung von M1 werden Prozessen mit h"oherer Priorit"at Rechenzeit zugewiesen, welche ''Zwischengeschoben'' werden, dh. die Mutexlocks von dem vorherig laufenden Prozess bleiben erhalten, in diesem Fall M1. Dies bedeutet aber immernoch eine sequentielle Ausf"uhrung.
\\

Problematisch wird das ganze wenn ein mittelhoch Priorisierter Prozess (Z) Rechenzeit erh"alt, der dann von einem hochpriorisierten Prozess (B) widerum abgel"ost werden soll. Dabei kann n"amlich dann der Mutexlock auf einen Wert, auf den M und B zugreifen nicht von M aufgel"ost werden, weil M zu diesem Zeitpunkt ja garnicht aktiv ist.
Daher w"urden erst alle anderen Prozess durchlaufen, die h"ohere Priorit"at als M haben, bevor B endlich zur Berechnung kommen darf. Dies hat dann bei zeitkritischen Laufpl"anen die Folge, dass B zu sp"at rechnen kann.
\\

Der Graph mit dem Blockgraph Package sieht bei uns unlesbar aus, daher nochmal der Source-code:

\begin{lstlisting}
    \begin{blockgraph}{34}{5}{0.4} % 170 / 5 = 34 cols

    \bglabelxx{0}
    \bglabelxx{5}
    \bglabelxx{10}
    \bglabelxx{15}
    \bglabelxx{20}
    \bglabelxx{25}
    \bglabelxx{30}
    \bglabelxx{34}

    \bglabely{4}{Periodendauer Z}
    \bglabely{3}{Periodendauer B}
    \bglabely{2}{Periodendauer M}
    \bglabely{1}{Berechnung}
    \bglabely{0}{$Kontextswitch \star$}

    \bgblock[1]{0}{2}{$B_1$}
    \bgblock[1]{2}{6}{$Z_1$}
    \bgblock[1]{6}{8}{$M_1 a$}
    \bgblock[0]{8}{10}{$B_2$}
    \bgblock[1]{10}{12}{$M_1 b$}
    \bgblock[0]{12}{16}{$Z_2$}
    \bgblock[0]{16}{18}{$B_3$}
    \bgblock[1]{18}{20}{$M_1 c$}


    \bgblock[2]{0}{23}{$M$}
    \bgblock[2]{23}{34}{$M$} % 115 / 5 = 23
    \bgblock[3]{0}{12}{$Z$}
    \bgblock[3]{12}{24}{$Z$}
    \bgblock[3]{24}{34}{$Z$} % 60 / 5 = 12
    \bgblock[4]{0}{8}{$B$}
    \bgblock[4]{8}{16}{$B$}
    \bgblock[4]{16}{24}{$B$}
    \bgblock[4]{24}{32}{$B$} % 40 / 5 = 8



\end{blockgraph}
\end{lstlisting}
\end{itemize}

\end{enumerate}

\end{document}
